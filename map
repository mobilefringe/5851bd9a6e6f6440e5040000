<div>
	<h1 class="page_title">Centre Map</h1>
	<hr/>
	<div class="store_list_map_div">
        <div id="mapsvg_store_list"></div>     
    </div>
</div>
<div class="mobile_line_break"></div>
<script type="text/javascript" src="//mallmaverick.cdn.speedyrails.net/javascripts/mapsvg/jquery.js"></script>
<script type="text/javascript" src="//mallmaverick.cdn.speedyrails.net/javascripts/mapsvg/raphael.js"></script>
<script type="text/javascript" src="//mallmaverick.cdn.speedyrails.net/javascripts/mapsvg/jquery.mousewheel.js"></script> 
<script type="text/javascript" src="//mallmaverick.cdn.speedyrails.net/system/site_images/photos/000/005/107/original/mallmaverick_svgmap.js?1412885524"></script>
<script>
$(document).ready(function(e){
    init(e);
    function renderAll(){
        var stores = getStoresList();
        
        regions = {};
        var stores = getStoresList();
        $.each(stores, function(key, val) {
            if(val.svgmap_region != null && typeof(val.svgmap_region)  != 'undefined'){
                obj = {};
                // obj["tooltip"] = "<div class='tooltip_div'><p class='tooltip_name'>" + val.name + "</p><div class='tooltip_phone_div'><i class='tooltip_phone_icon fa fa-phone' aria-hidden='true'></i><p class='tooltip_phone'>" + val.phone + "</p></div>"
                obj["popover"] = "<div class='tooltip_div'><p class='tooltip_name'>" + val.name + "</p><div class='tooltip_phone_div'><i class='tooltip_phone_icon fa fa-phone' aria-hidden='true'></i><p class='tooltip_phone'>" + val.phone + "</p></div> <a href='/stores/"+store_details.slug+"'>View Details</a>"
                obj["attr"] = {}
                obj["attr"]["href"] = "/stores/" + val.slug
                regions[val.svgmap_region] = obj
            }
        });
        load_map(regions, stores);
        
        setTimeout(function() {
            show_content();
        }, 500);
    }
    loadMallDataCached(renderAll);
})
</script>
